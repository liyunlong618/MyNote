# GAS 6.2 修正火球角度，添加复制，按下shift时普攻
- <font color=#DC2D1E>**处理关键点：**</font>
    - <font color=#DC2D1E>**1.使用：**</font> <font color=#DC2D1E>`**向量.Rotation();**`</font> <font color=#DC2D1E>**获取角度FRotator**</font>
    - <font color=#DC2D1E>**2.使用：**</font> <font color=#DC2D1E>`**角度.Quaternion();**`</font> <font color=#DC2D1E>**获取该角度的四元数**</font>
    - <font color=#DC2D1E>**3.C++中设置 碰撞通道**</font>
    - <font color=#DC2D1E>**4.**</font> <font color=#DC2D1E>**DS**</font> <font color=#DC2D1E>**/**</font> <font color=#DC2D1E>**LS网络复制相关**</font>
- 视频链接
    - 【【AI中字】虚幻5C++教程使用GAS制作RPG游戏（一）-哔哩哔哩】 [https://b23.tv/IGADhLV]("https://b23.tv/IGADhLV")
- 生成抛射物的函数 <font color=#FFAF38>**SpawnProjectile**</font> 中，
    - 头文件，添加形参，传入位置
        -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-961957-992405.png)
    - 源文件，计算方向，设置Rotation
        -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-490988-422038.png)
- GA蓝图 ***GA_FireBolt*** 中，获取HitResult后保存 <font color=#75C940>**Location**</font> ，传参
    -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-38746-241064.png)
- 此时有个问题，一个角色会把另一个角色弹簧臂挡住，需要C++中设置一下角色capsule和mesh的碰撞通道，对camera为忽略
    -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-524165-147260.jpeg) ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-90885-151804.jpeg)
    -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-930303-727834.png)
    -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-487670-288832.png) ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-240330-303387.png)
- 此时希望添加一个功能，按下shift时，不用点到敌人，也可以发射普通攻击火球
    - **步骤**
        - 1.添加InputAction,并设置为1d输入
            -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-465808-918237.png)
            -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-269944-514892.png)
        - 2.配置InputAction
            -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-806636-765333.png)
        - 3. AAuraPlayerController 中
            -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-194644-212719.png)
            -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-200742-288778.png)
            -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-354795-15479.png) ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-434919-253064.png)
        - ***BP_AuraPlayerController*** 中配置
            -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-741910-348769.png)
- 记得火球 AAuraProjectile 中开启复制bReplicates，否则客户端无法看见
    -  ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-497501-850138.png)
- 此时效果gif ![图片](./GAS 6.2 修正火球角度，添加复制，按下shift时普攻-幕布图片-431364-932439.gif)