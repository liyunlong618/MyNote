# GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）
- <font color=#DC2D1E>**初始化属性的三种方法**</font>
- **方法一** **：在构造中赋值**
    -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-259693-386607.png)
- **方法二** **：配表 初始化属性**
    - 创建BP的PS并配置
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-735085-113350.png)
    - UAuraAttributeSet 中添加人物主要属性：力量/智力/坚韧/活力
        - 头文件
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-236964-145056.png)
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-800934-653335.png)
        - 源文件
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-210478-889833.png)
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-973321-582084.png)
    - AAuraPlayerState 中设置ASC组建为可读(这样就能配表了)
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-728098-869570.png)
    - 创建并配置表格
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-133291-384936.png)
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-255623-609942.png)
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-528734-139988.png)
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-66543-782239.png)
    - BP_AuraPlayerState中配置表格
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-809545-620944.png)
    - 运行游戏，初始化属性成功 ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-823609-309359.png)
    - **配表 虽然方便，但是缺点也很明显，这里只能起到初始化的作用，最大最小值无效，不如别的地方功能性更强**
- 移除配表 配表只做了解
    -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-52097-785648.png)
    - 看到属性归零
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-298821-463392.png)
- **方法三** **：使用GE初始化属性**
    - AAuraCharacterBase 中，增加蓝图可配置的初始化属性的GE类，和初始化调用GE的函数
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-251747-164999.png)
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-454401-240645.png)
        - <font color=#DC2D1E>**根据GE类，创建GE Spec并应用到自身**</font>
            - `**const FGameplayEffectContextHandle GameplayEffectContextHandle = GetAbilitySystemComponent()->MakeEffectContext();const FGameplayEffectSpecHandle GameplayEffectSpec = GetAbilitySystemComponent()->MakeOutgoingSpec(这里是GE类, 1.0f, GameplayEffectContextHandle);GetAbilitySystemComponent()->ApplyGameplayEffectSpecToSelf(*GameplayEffectSpec.Data.Get());**`
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-838486-222756.png)
    - AAuraCharacter 的 `**InitAbilityActorInfo()**` 函数中调用
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-844463-327081.png)
    - 创建文件夹
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-59883-457668.png)
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-965655-918822.png)
    - AbilitySystem \ GameplayEffects \ PrimaryAttributes文件夹下创建初始化用的GE文件
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-376098-448663.png)
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-548009-717922.png)
    - 别忘了给BP_Aura 配置DefaultPrimaryAttributes(使用初始化用的GE   GE_AuraPrimaryAttributes)
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-597630-30182.png)
    -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-619764-152779.png)
- 帮助理解的小案例
    - 创建一个Actor 拥有组件BoxCollision jueseOverlap时触发GE 根据角色属性触发-HP的逻辑
        - 新建文件夹/Actor/GE
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-503613-338575.png)
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-242735-271610.png)
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-371479-680532.png)
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-291537-845177.png)
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-569259-151180.png)
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-703089-728654.png)
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-437999-968644.png)
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-481770-517036.png)
        - 设置GE
            -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-50918-528219.png)
    - 结果
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-499678-122060.png)
    - 属性 ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-906204-173771.png)
- **GE中的Modifiers（简单属性计算）**
    - 如果有三个Modifier，分别根据人物活力/力量/坚韧，触发加血的GE逻辑
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-283180-607956.png)
    - 严格按照下标的顺序进行 逻辑运算
        -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-206479-41321.png)
- **GE** **中的** **Modifiers** **中的** **Coefficient**
    -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-950364-432461.png)
    -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-669990-723459.png)
    -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-385613-191279.png)
    -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-72924-160997.png)
    -  ![图片](./GAS 3.4 配表 初始化属性；GE中的Modifiers中的Coefficient（简单属性计算）-幕布图片-640562-116628.png)